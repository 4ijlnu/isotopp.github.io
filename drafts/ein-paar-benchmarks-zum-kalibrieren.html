<!doctype html>
<html lang="en">
    <head>
    <meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<title>Die wunderbare Welt von Isotopp - Ein paar Benchmarks zum kalibrieren</title>
<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="manifest" href="site.webmanifest">
<link rel="apple-touch-icon" href="icon.png">
<link rel="favicon.ico" rel="icon" type="image/ico">





    



<link rel="stylesheet" href="/style.min.e525cc19e18f2cbf426091105e559b85dfd95ed4f6e083666ffc41242d16af82.css">


    </head>
    <body>
        

        <nav class="navbar navbar-expand-lg navbar-light px-lg-4 pt-lg-4">
  <div class="container-fluid">

    <a class="navbar-brand justify-content-center" href="" rel="home" title=".Site.Title">
      <img height='48' width='48' src='/assets/img/kris.jpg' class='p-0 me-3 d-block d-lg-inline'>
      <span class='h4 d-block d-lg-inline'>Die wunderbare Welt von Isotopp</span>
    </a>

    <button class="navbar-toggler ms-auto" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse text-center" id="navbarSupportedContent">
      <ul class="navbar-nav ms-auto">

      

      
        <li class="nav-item ">
                        <a class="nav-link" href="/about/">
          
          <span>About</span>
          <span class="visually-hidden">(Current)</span>
            </a>
            
        <li class="nav-item ">
                        <a class="nav-link" href="/contribute/">
          
          <span>Contribute</span>
          <span class="visually-hidden">(Current)</span>
            </a>
            
        <li class="nav-item ">
                        <a class="nav-link" href="/search/">
          <svg class='bi' height='1.5rem' width='1.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#search'/></svg>
          <span></span>
          <span class="visually-hidden">(Current)</span>
            </a>
            
        <li class="nav-item ">
                        <a class="nav-link" href="/tags/">
          <svg class='bi' width='1.5rem' height='1.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#tags-fill'/></svg>
          <span></span>
          <span class="visually-hidden">(Current)</span>
            </a>
            
        </li>
      </ul>
        
    </div>

  </div>
</nav>


        <main role="main" class="container-fluid p-0">

            


<div class="page">
  <article class="ein-paar-benchmarks-zum-kalibrieren-page">
    <div class='row justify-content-center text-center my-4 mx-0'>
      <header>
        <div class='col'>
          <h1 class="title mb-lg-4 text-white">
            Ein paar Benchmarks zum kalibrieren
          </h1>
          <div class='text-uppercase text-light' style='letter-spacing: 0.1rem;'>
              <img src='/assets/img/kris.jpg' class='me-1 p-0' style='width: 1.9rem; border-radius: 1rem;'>
              <a href="https://twitter.com/isotopp" class='text-light text-decoration-none'>
                Kristian Köhntopp
              </a>
            

            
              <span class='d-none d-lg-inline'>-</span> 
              <div class='d-block d-lg-inline'>November 1, 2007</div>
            

          </div>
        </div>
        <img src='https://blog.koehntopp.info/assets/img/background/rijksmuseum.jpg'>
      </header>
    </div>

    <div class='row justify-content-center mx-0 mt-5 mb-5'>
      <div class='col-lg-8'>
        <!-- s9ymdb:3519 --><img width="110" height="57" style="float: right; border: 0px; padding-left: 5px; padding-right: 5px;" src="/uploads/mysql_logo.serendipityThumb.gif" alt="" /> Ich habe ein wenig mit iozone gespielt. Erstes Opfer war eine NetApp FAS3040 with 4096MB RAM and 512MB NVRAM. Angeschlossen waren 14 Disks mit 10k RPM, mit 4Gbit Fibre Channel auf device-mapper-multipath so, daß die beiden primary Paths das I/O machen und die beiden sekundären Pfade im wesentlichen Idle bleiben.
<p>Gefahren hab ich gegen das Ding ein iozone und zwar <ul><li>iozone -f iozonefile -o -O -i0 -i2 -s4g -r16k</li><li>iozone -T -t 8 -F iozonefile{0..7} -o -O -i0 -i2 -s1g -r16k</li><li>iozone -T -t 32 -F iozonefile{0..31} -o -O -i0 -i2 -s512m -r16k</li></ul> und das wiederum gegen ein ext3 und gegen ein xfs.</p>
<p>Kernel war 2.6.9-55.ELsmp von einem RHEL 4 Nahant Update 5. Weil ich Datenbanker bin, interessieren mich nur die Random Writes (InnoDB Blockgröße ist 16K).
{% highlight console %}
Random Writes</p>
<pre><code>  1 @4g  8 @1g    32 @ 512m
</code></pre>
<p>ext3  1482   3514.13  3132.09
xfs   1538   3741.75  3104.22
{% endhighlight %}
Danach habe ich genau dasselbe Spiel noch einmal gegen eine 2.6.9-42.ELsmp aus einem CentOS 4.4 Final gemacht. Die Maschine war eine HP 385 mit einem RAID-10 aus drei Paaren. Hier bekomme ich diese Zahlen:
{% highlight console %}
Random Writes</p>
<pre><code>  1 @4g  8 @1g    32 @ 512m
</code></pre>
<p>ext3  1468    995.61  1043.05
xfs   1335   1014.92   943.72
{% endhighlight %}
Ich hab das Spielzeug noch einen Tag länger. Wenn jemand also noch was getestet haben will - her mit den Ideen.</p>
<p><b>Related:</b> <a href="http://acmqueue.com/modules.php?name=Content&pa=showpage&pid=506">Grosse Platten und Lebensdauer</a> (ACM Queue).</p>
<p><b>Nachschlag:</b> Lassen wir den Benchmark doch mal mit allen Threads auf derselben Datei statt auf unterschiedlichen Dateien laufen. <ul><li>iozone -f iozonefile -o -O -i0 -i2 -s4g -r16k</li><li>iozone -T -t 8 -F ./iozonefile &hellip; -o -O -i0 -i2 -s1g -r16k</li><li>iozone -T -t 8 -F ./iozonefile &hellip; -o -O -i0 -i2 -s512m -r16k</li></ul> Dadurch könnte deutlich werden, wie xfs mit Contention-Problemen auf dem Inode-Writelock besser fertig wird.
{% highlight console %}
NetApp</p>
<p>Random Writes</p>
<pre><code>  1 @4g  8 @1g    32 @ 512m
</code></pre>
<p>ext3  1482   1553.60  1557.63
xfs   1538   4727.12  5680.56</p>
<p>DAS</p>
<p>Random Writes</p>
<pre><code>  1 @4g  8 @1g    32 @ 512m
</code></pre>
<p>ext3  1468   1593.20  1671.52
xfs   1335   1689.69  1739.42
{% endhighlight %}</p>

      </div>
    </div>

    <div class='row justify-content-center mb-3'>
      <div class='col-lg-8 text-center'>
        <span class='letter-spacing-01 text-uppercase text-secondary me-2'>Share</span>
        <a href='https://www.facebook.com/sharer/sharer.php?u=%2fdrafts%2fein-paar-benchmarks-zum-kalibrieren.html' target='_blank'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#facebook'/></svg>
        </a>
        <a href='https://twitter.com/intent/tweet?source=%2fdrafts%2fein-paar-benchmarks-zum-kalibrieren.html&text=Ein%20paar%20Benchmarks%20zum%20kalibrieren%20%7C%20Die+wunderbare+Welt+von+Isotopp:%20%2fdrafts%2fein-paar-benchmarks-zum-kalibrieren.html' target='_blank'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#twitter'/></svg>
        </a>
      </div>
    </div>

    <div class='row justify-content-center mb-5 pt-5 border-top'>
      <div class='col-lg-4 text-center text-lg-start'>
         
          <div>
            <div class='letter-spacing-01 text-uppercase text-secondary'>
              Next Post
            </div>
            <a class='text-decoration-none' href="/drafts/mysql-integer-overflow.html">MySQL: Integer Overflow</a>
          </div>
        
      </div>

      <div class='col-lg-4 text-lg-end mt-5 mt-lg-0 text-center'>
         
          <div>
            <div class='letter-spacing-01 text-uppercase text-secondary'>
              Previous Post
            </div>
            <a class='text-decoration-none' href="/drafts/bug-31876-mysql-commit-in-windows.html">Bug #31876: MySQL Commit in Windows</a>
          </div>
        
      </div>
    </div>

    
    </article>
</div>



            <footer class='row justify-content-center mb-4 pb-4 mx-0'>
  <div class='col-8 text-center'>
    <div>
      A collection of old stuff, new stuff and random stuff. 
    </div>
    <div class='row text-primary mt-4'>
      <div class='col'>

        <a href='/index.xml' title='Follow RSS feed' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#rss-fill'/></svg>
        </a>

        <a href='mailto:kristian.koehntopp@gmail.com' title='Email' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#envelope'/></svg>
        </a>

        <a href='https://github.com/isotopp' title='Follow on GitHub' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#github'/></svg>
        </a>

        <a href='https://www.reddit.com/user/isotopp' title='Follow on Reddit' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#reddit'/></svg>
        </a>

        <a href='http://steamcommunity.com/id/ixotopp' title='Follow on Steam' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#steam'/></svg>
        </a>

        <a href='https://twitter.com/isotopp' title='Follow on Twitter' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#twitter'/></svg>
        </a>

        <a href='https://www.youtube.com/user/isotopp' title='Follow on YouTube' class=''>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#youtube'/></svg>
        </a>

      </div>
    </div>
  </div>
</footer>


        </main>

	





<script src="/js/bootstrap.js"></script>




<script src="/js/lunr.js"></script>





<script src="/js/app.js"></script>


    </body>
</html>
