<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<title>Die wunderbare Welt von Isotopp - FAQ: Mein mysqldump zerstört meine Umlaute</title>
<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="manifest" href="site.webmanifest">
<link rel="apple-touch-icon" href="icon.png">
<link rel="favicon.ico" rel="icon" type="image/ico">





	



<link rel="stylesheet" href="/style.min.c5e5cd61f54911f9aafd1dbe09c2f90667957bfe1002126c87aace57759f3446.css">


    </head>
    <body>
        

        <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
	<a class="navbar-brand" href="" rel="home" title=".Site.Title">
	    Die wunderbare Welt von Isotopp
	</a>
	<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
	</button>

	<div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
		
		
		<li class="nav-item ">
                    <a class="nav-link" href="/about/">
			
			<span>About</span>
			<span class="visually-hidden">(Current)</span>
		    </a>
		    
		</li>
            </ul>
            
	</div>
    </div>
</nav>


        <main role="main" class="container-fluid">

            


<div class="page">
    <article class="faq-mein-mysqldump-zerst%C3%B6rt-meine-umlaute-page">
	<h1 class="title">
            FAQ: Mein mysqldump zerstört meine Umlaute
	</h1>

	<p>In den letzten Tagen habe ich das mehrmals erklären müssen, daher jetzt
einmal im Blog, damit ich das verlinken kann.  Dieser Artikel ist, anders
als der Rest des Blogs,
<a href="http://creativecommons.org/licenses/by-sa/3.0/us/" target="_blank" rel="noopener">CC-BY-SA</a>

.</p>
<p>Der Fragesteller:</p>
<blockquote>
<p>Ich habe Daten in meiner Datenbank, die ich erfolgreich mit meiner
Anwendung einlesen und wieder auslesen kann.  Wenn ich jedoch einen
<code>mysqldump</code> mache, um die Daten auf ein neues System zu portieren, bekomme
ich zerstörte Umlaute.</p>
</blockquote>
<p>Das Problem tritt auf, wenn man Daten in der Datenbank mit dem falschen
Zeichensatz-Label speichert.</p>
<p>In MySQL klebt an jedem String ein Label, der den Zeichensatz angibt, in dem
der String geschrieben worden ist.  Der String _latin1&quot;Köhntopp&quot; ist also
hoffentlich die Zeichenfolge &ldquo;K-0xF6-hntopp&rdquo;, und der String _utf8&quot;Köhntopp&quot;
entsprechend die Zeichenfolge &ldquo;K-0xC3 0xB6-hntopp&rdquo;.  Probleme treten auf,
wenn das Label (&quot;_latin1&quot; oder &ldquo;_utf8&rdquo;) und die Datencodierung von Umlauten
(0xF6 vs.  0xC3 0xB6) nicht übereinstimmen.</p>
<p>Zum besseren Verständnis gibt es die Artikel
[Zeichensatzärger]({% link _posts/2006-08-06-zeichensatz-rger.md %})
und
[MySQL Zeichensatz Grundlagen]({% link _posts/2006-10-01-mysql-zeichensatz-grundlagen.md %})
hier im Blog.</p>
<h2 id="wie-man-den-fehler-erzeugt">
    <a href="#wie-man-den-fehler-erzeugt">
	Wie man den Fehler erzeugt
    </a>
</h2>
<p>Wir definieren eine Tabelle mit einer VARCHAR-Spalte, an der ein
Zeichensatz-Label &lsquo;latin1&rsquo; klebt.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">create</span> <span style="color:#66d9ef">table</span> t ( 
<span style="color:#f92672">-&gt;</span> id integer unsigned <span style="color:#66d9ef">not</span> <span style="color:#66d9ef">null</span> <span style="color:#66d9ef">primary</span> <span style="color:#66d9ef">key</span>, 
<span style="color:#f92672">-&gt;</span> f varchar(<span style="color:#ae81ff">20</span>) charset latin1 
<span style="color:#f92672">-&gt;</span> ) engine <span style="color:#f92672">=</span> innodb;
Query OK, <span style="color:#ae81ff">0</span> <span style="color:#66d9ef">rows</span> affected (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">25</span> sec)
</code></pre></div><p>Wir definieren die Verbindung zur Datenbank auch als latin1.  Der
Zeichensatz der Spalte t.f und das Zeichensatzlabel der Connection stimmen
also überein.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">set</span> <span style="color:#66d9ef">names</span> latin1;
Query OK, <span style="color:#ae81ff">0</span> <span style="color:#66d9ef">rows</span> affected (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">00</span> sec)
</code></pre></div><p>Wir senden nun Daten mit UTF8-codierung über eine Connection, die das Label
latin1 trägt.  Wir lügen die Datenbank also an:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">select</span> hex(<span style="color:#e6db74">&#39;Köhntopp&#39;</span>) <span style="color:#66d9ef">as</span> umlaut;
<span style="color:#f92672">+</span><span style="color:#75715e">--------------------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> umlaut             <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">--------------------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> <span style="color:#ae81ff">4</span>BC3B6686E746F7070 <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">--------------------+
</span><span style="color:#75715e"></span><span style="color:#ae81ff">1</span> <span style="color:#66d9ef">row</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">set</span> (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">00</span> sec)

mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> t <span style="color:#66d9ef">values</span> ( <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;Köhntopp&#39;</span>);
Query OK, <span style="color:#ae81ff">1</span> <span style="color:#66d9ef">row</span> affected (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">00</span> sec)
</code></pre></div><p>Die Daten sind also real in utf8 codiert, werden aber über eine Verbindung
übertragen, die das Label latin1 hat.  Die Spalte t.f hat ebenfalls die
Codierung latin1.  Es ist also keine Konvertierung notwendig und MySQL nimmt
auch keine vor.  Die Daten werden 1:1 so gespeichert, wie wir sie senden.</p>
<p>Lesen wir die Daten aus, gelingt das auch: Die Daten der Spalte t.f werden
gelesen.  Sie liegen in latin1 vor.  Die Verbindung, über die wir die Daten
lesen, ist ebenfalls latin1.  Die Daten werden also 1:1 ausgelesen und in
unserem utf8-Terminal korrekt angezeigt:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">select</span> f, hex(f) <span style="color:#66d9ef">from</span> t <span style="color:#66d9ef">where</span> id <span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
<span style="color:#f92672">+</span><span style="color:#75715e">-----------+--------------------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> f         <span style="color:#f92672">|</span> hex(f)             <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">-----------+--------------------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> Köhntopp <span style="color:#f92672">|</span> <span style="color:#ae81ff">4</span>BC3B6686E746F7070 <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">-----------+--------------------+
</span><span style="color:#75715e"></span><span style="color:#ae81ff">1</span> <span style="color:#66d9ef">row</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">set</span> (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">00</span> sec)
</code></pre></div><p>Man sieht in der Ausgabe links einen korrekten Umlaut - das Terminal des Mac
steht aber auf utf8.  Man sieht rechts die Bytes vor jeder
Ausgabekonvertierung auf der Platte - 0xc3 0xb6 sind ein utf8 o-Umlaut.</p>
<p>Und jetzt der Dump:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">...
<span style="color:#75715e">/*!40101 SET NAMES utf8 */</span>;
...

<span style="color:#66d9ef">DROP</span> <span style="color:#66d9ef">TABLE</span> <span style="color:#66d9ef">IF</span> <span style="color:#66d9ef">EXISTS</span> <span style="color:#f92672">`</span>t<span style="color:#f92672">`</span>;
<span style="color:#75715e">/*!40101 SET @saved_cs_client     = @@character_set_client */</span>;
<span style="color:#75715e">/*!40101 SET character_set_client = utf8 */</span>;
<span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">TABLE</span> <span style="color:#f92672">`</span>t<span style="color:#f92672">`</span> (
  <span style="color:#f92672">`</span>id<span style="color:#f92672">`</span> int(<span style="color:#ae81ff">10</span>) unsigned <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">NULL</span>,
  <span style="color:#f92672">`</span>f<span style="color:#f92672">`</span> varchar(<span style="color:#ae81ff">20</span>) CHARACTER <span style="color:#66d9ef">SET</span> latin1 <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span>,
  <span style="color:#66d9ef">PRIMARY</span> <span style="color:#66d9ef">KEY</span> (<span style="color:#f92672">`</span>id<span style="color:#f92672">`</span>)
) ENGINE<span style="color:#f92672">=</span>InnoDB <span style="color:#66d9ef">DEFAULT</span> CHARSET<span style="color:#f92672">=</span>utf8 <span style="color:#66d9ef">COLLATE</span><span style="color:#f92672">=</span>utf8_unicode_ci;
<span style="color:#75715e">/*!40101 SET character_set_client = @saved_cs_client */</span>;

<span style="color:#75715e">--
</span><span style="color:#75715e">-- Dumping data for table `t`
</span><span style="color:#75715e">--
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">LOCK</span> TABLES <span style="color:#f92672">`</span>t<span style="color:#f92672">`</span> <span style="color:#66d9ef">WRITE</span>;
<span style="color:#75715e">/*!40000 ALTER TABLE `t` DISABLE KEYS */</span>;
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>t<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">1</span>,<span style="color:#e6db74">&#39;KÃ¶hntopp&#39;</span>);
<span style="color:#75715e">/*!40000 ALTER TABLE `t` ENABLE KEYS */</span>;
UNLOCK TABLES;
</code></pre></div><p>Wir sehen, daß mysqldump die Verbindung auf utf8 setzt.  Das tut es immer,
egal in welchem Format die Daten auf der Platte vorliegen.  Das ist auch
kein Problem: Der im Dump verwendete Zeichensatz ist ein Superset aller
anderen verfügbaren Zeichensätze und kann alle Stringdaten in der Datenbank
darstellen, egal in welchem Format sie auf der Platte vorliegen.</p>
<p>Die mit latin1 belabelten Daten aus t.f werden nun also bei der Ausgabe von
latin1 nach utf8 gewandelt.  Sie sind aber real schon utf8, d.h.  wir
wandeln real utf8-Daten noch einmal nach utf8.  Das Resultat kann man im
Dump sehen: &lsquo;KÃ¶hntopp&rsquo; - doppelt codiertes utf8.</p>
<p>Es ist zu beachten: MySQL macht hier alles richtig.  Das Problem ist, daß in
einer latin1-Spalte als utf8 codierte Daten abgespeichert worden sind, weil
in einer mit &ldquo;SET NAMES latin1&rdquo; konfigurierten Verbindung utf8-Daten
gesendet wurden.  Wir haben den Server angelogen und bekommen unsere
gerechte Strafe.</p>
<p>Das Problem ist auf zwei Arten lösbar:</p>
<h2 id="lösung-im-dump">
    <a href="#l%c3%b6sung-im-dump">
	Lösung im Dump
    </a>
</h2>
<p>Die haarsträubende Kommandozeile</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">server:<span style="color:#f92672">~</span> <span style="color:#f92672">#</span> mysqldump <span style="color:#75715e">--default-character-set latin1 kris t | sed -e &#39;s/SET NAMES latin1/SET NAMES utf8/&#39;
</span></code></pre></div><p>erzeugt einen Dump, bei dem die Verbindung auf &lsquo;SET NAMES latin1&rsquo;
eingestellt wird - die Daten werden also genau wie in der Anwendung ohne
jede Konvertierung ausgelesen.</p>
<p>Allerdings steht im Dump dann immer noch, daß sie in latin1 codiert wären.
Das ist immer noch falsch - die Daten sind korrekt in utf8 gespeichert.  Die
sed-Anweisung korrigiert das, indem sie alle Vorkommen von latin1 in utf8
ändert - Label und Inhalt stimmen nun überein.</p>
<p>In der neuen Datenbank werden die Daten jetzt also korrekt eingelesen.  In
der neuen Datenbank muß man nun noch dafür sorgen, daß die Anwendung dort
korrekt &lsquo;SET NAMES utf8&rsquo; setzt, wenn sie denn utf8 verwendet.</p>
<h2 id="lösung-in-der-quelldatenbank">
    <a href="#l%c3%b6sung-in-der-quelldatenbank">
	Lösung in der Quelldatenbank
    </a>
</h2>
<p>Wie im
<a href="http://dev.mysql.com/doc/refman/5.5/en/alter-table.html" target="_blank" rel="noopener">Handbuch</a>


beschrieben, kann man:</p>
<blockquote>
<p><strong>Warning</strong></p>
<p>The CONVERT TO operation converts column values between the character
sets.  This is not what you want if you have a column in one character set
(like latin1) but the stored values actually use some other, incompatible
character set (like utf8).  In this case, you have to do the following for
each such column:</p>
<p><code>ALTER TABLE t1 CHANGE c1 c1 BLOB;</code></p>
<p><code>ALTER TABLE t1 CHANGE c1 c1 TEXT CHARACTER SET utf8;</code></p>
<p>The reason this works is that there is no conversion when you convert to or from BLOB
columns.</p>
</blockquote>
<p>Wir machen das also:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">show</span> <span style="color:#66d9ef">create</span> <span style="color:#66d9ef">table</span> t<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#66d9ef">G</span>
       <span style="color:#66d9ef">Table</span>: t
<span style="color:#66d9ef">Create</span> <span style="color:#66d9ef">Table</span>: <span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">TABLE</span> <span style="color:#f92672">`</span>t<span style="color:#f92672">`</span> (
  <span style="color:#f92672">`</span>id<span style="color:#f92672">`</span> int(<span style="color:#ae81ff">10</span>) unsigned <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">NULL</span>,
  <span style="color:#f92672">`</span>f<span style="color:#f92672">`</span> varchar(<span style="color:#ae81ff">20</span>) CHARACTER <span style="color:#66d9ef">SET</span> latin1 <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span>,
  <span style="color:#66d9ef">PRIMARY</span> <span style="color:#66d9ef">KEY</span> (<span style="color:#f92672">`</span>id<span style="color:#f92672">`</span>)
) ENGINE<span style="color:#f92672">=</span>InnoDB <span style="color:#66d9ef">DEFAULT</span> CHARSET<span style="color:#f92672">=</span>utf8 <span style="color:#66d9ef">COLLATE</span><span style="color:#f92672">=</span>utf8_unicode_ci
<span style="color:#ae81ff">1</span> <span style="color:#66d9ef">row</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">set</span> (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">00</span> sec)
</code></pre></div><p>In der alten Tabelle ist die Spalte f als latin1 definiert, enthält aber
utf8-Daten.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">alter</span> <span style="color:#66d9ef">table</span> t <span style="color:#66d9ef">modify</span> <span style="color:#66d9ef">column</span> f varbinary(<span style="color:#ae81ff">20</span>);
Query OK, <span style="color:#ae81ff">1</span> <span style="color:#66d9ef">row</span> affected (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">63</span> sec)
Records: <span style="color:#ae81ff">1</span>  Duplicates: <span style="color:#ae81ff">0</span>  Warnings: <span style="color:#ae81ff">0</span>

mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">alter</span> <span style="color:#66d9ef">table</span> t <span style="color:#66d9ef">modify</span> <span style="color:#66d9ef">column</span> f varchar(<span style="color:#ae81ff">20</span>) charset utf8;
Query OK, <span style="color:#ae81ff">1</span> <span style="color:#66d9ef">row</span> affected (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">62</span> sec)
Records: <span style="color:#ae81ff">1</span>  Duplicates: <span style="color:#ae81ff">0</span>  Warnings: <span style="color:#ae81ff">0</span>
</code></pre></div><p>Wir wandeln f in ein VARBINARY um - das ist ein VARCHAR ohne
Zeichensatzlabel, also ein Binärklumpen.  Die Daten in f bleiben erhalten,
sind nun aber kein String mehr, sondern eine bedeutungslose Bitfolge, die
keinem Zeichensatz angehört.</p>
<p>Wir wandeln f dann wieder in einen Zeichensatz um, in diesem Fall
VARCHAR(20) CHARSET utf8, also der korrekte Zeichensatz.</p>
<p>Wir machen das in zwei Schritten, damit die Datenbank die Assoziation
zwischen unseren Bits und Zeichensätzen vergißt.  Würden wir direkt von
VARCHAR(20) CHARSET latin1 nach VARCHAR(20) CHARSET utf8 umwandeln, würde
die Datenbank uns hilfreicherweise auch die Daten konvertierten.  Das ist im
Normalfall das, was man will, denn die Datenbank sorgt so dafür, daß heile
Daten auch heil bleiben.</p>
<p>In unserem Fall ist es genau nicht das, was wir wollen, denn wir haben ja
kaputte Daten, die wir heil machen wollen.</p>
<p>Das Resultat:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">show</span> <span style="color:#66d9ef">create</span> <span style="color:#66d9ef">table</span> t<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#66d9ef">G</span>
       <span style="color:#66d9ef">Table</span>: t
<span style="color:#66d9ef">Create</span> <span style="color:#66d9ef">Table</span>: <span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">TABLE</span> <span style="color:#f92672">`</span>t<span style="color:#f92672">`</span> (
  <span style="color:#f92672">`</span>id<span style="color:#f92672">`</span> int(<span style="color:#ae81ff">10</span>) unsigned <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">NULL</span>,
  <span style="color:#f92672">`</span>f<span style="color:#f92672">`</span> varchar(<span style="color:#ae81ff">20</span>) CHARACTER <span style="color:#66d9ef">SET</span> utf8 <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span>,
  <span style="color:#66d9ef">PRIMARY</span> <span style="color:#66d9ef">KEY</span> (<span style="color:#f92672">`</span>id<span style="color:#f92672">`</span>)
) ENGINE<span style="color:#f92672">=</span>InnoDB <span style="color:#66d9ef">DEFAULT</span> CHARSET<span style="color:#f92672">=</span>utf8 <span style="color:#66d9ef">COLLATE</span><span style="color:#f92672">=</span>utf8_unicode_ci
<span style="color:#ae81ff">1</span> <span style="color:#66d9ef">row</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">set</span> (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">00</span> sec)

mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">select</span> f, hex(f) <span style="color:#66d9ef">from</span> t;
<span style="color:#f92672">+</span><span style="color:#75715e">-----------+--------------------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> f         <span style="color:#f92672">|</span> hex(f)             <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">-----------+--------------------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> Köhntopp <span style="color:#f92672">|</span> <span style="color:#ae81ff">4</span>BC3B6686E746F7070 <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">-----------+--------------------+
</span><span style="color:#75715e"></span><span style="color:#ae81ff">1</span> <span style="color:#66d9ef">row</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">set</span> (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">00</span> sec)
</code></pre></div><p>Wir speichern nun utf8 Daten in einer utf8-Spalte.  Damit stimmen
Spalten-Label und Spalten-Daten überein und die Mechanismen der Datenbank
arbeiten für uns, nicht gegen uns.</p>
<h2 id="wie-man-den-fehler-in-zukunft-vermeidet">
    <a href="#wie-man-den-fehler-in-zukunft-vermeidet">
	Wie man den Fehler in Zukunft vermeidet
    </a>
</h2>
<p>Lüge die Datenbank nicht an.  Wenn Du SET NAMES latin1 eingestellt hast,
sende latin1.  Wenn Du SET NAMES utf8 eingestellt hast, sende utf8.  Die
Datenbank konvertiert Dir Deine Daten dann immer korrekt, egal welche
Zeichensätze Deine Spalten haben oder ob Du latin1 und utf8-Anwendungen
mischt.</p>


	
    </article>
</div>



            <footer>
    <p>
	&copy; Copyright 2021 Someone or something
    </p>
</footer>


        </main>

	





<script src="/js/bootstrap.js"></script>




<script src="/js/lunr.js"></script>





<script src="/js/app.js"></script>


    </body>
</html>
