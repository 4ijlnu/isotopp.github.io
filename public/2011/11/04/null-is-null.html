<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<title>Die wunderbare Welt von Isotopp - NULL is NULL</title>
<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="manifest" href="site.webmanifest">
<link rel="apple-touch-icon" href="icon.png">
<link rel="favicon.ico" rel="icon" type="image/ico">





	



<link rel="stylesheet" href="/style.min.c5e5cd61f54911f9aafd1dbe09c2f90667957bfe1002126c87aace57759f3446.css">


    </head>
    <body>
        

        <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
	<a class="navbar-brand" href="" rel="home" title=".Site.Title">
	    Die wunderbare Welt von Isotopp
	</a>
	<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
	</button>

	<div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
		
		
		<li class="nav-item ">
                    <a class="nav-link" href="/about/">
			
			<span>About</span>
			<span class="visually-hidden">(Current)</span>
		    </a>
		    
		</li>
            </ul>
            
	</div>
    </div>
</nav>


        <main role="main" class="container-fluid">

            


<div class="page">
    <article class="null-is-null-page">
	<h1 class="title">
            NULL is NULL
	</h1>

	<p>Q&gt; Sag mal, NULL zählt nicht bei einem UNIQUE INDEX? Zum Beispiel ein UNIQUE INDEX auf (a,b) und dann</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">a  b
<span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">2</span>
<span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">2</span>
</code></pre></div><p>Das geht nicht, da Duplikate Key. Aber</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">a  b
<span style="color:#ae81ff">1</span>  <span style="color:#66d9ef">NULL</span>
<span style="color:#ae81ff">1</span>  <span style="color:#66d9ef">NULL</span>
</code></pre></div><p>wird zugelassen.</p>
<p>Kris&gt; Du kaufst bitte mal
<a href="http://www.amazon.de/Joe-Celkos-SQL-Smarties-Programming/dp/0123820227" target="_blank" rel="noopener">SQL für Smarties: Advanced SQL Programming</a>


und ißt das dann auf.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">select</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">from</span> t;
<span style="color:#f92672">+</span><span style="color:#75715e">----+------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> id <span style="color:#f92672">|</span> d    <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">----+------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>  <span style="color:#ae81ff">1</span> <span style="color:#f92672">|</span> <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">|</span>  <span style="color:#ae81ff">2</span> <span style="color:#f92672">|</span>    <span style="color:#ae81ff">2</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">|</span>  <span style="color:#ae81ff">3</span> <span style="color:#f92672">|</span>    <span style="color:#ae81ff">3</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">|</span>  <span style="color:#ae81ff">4</span> <span style="color:#f92672">|</span> <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">----+------+
</span><span style="color:#75715e"></span><span style="color:#ae81ff">4</span> <span style="color:#66d9ef">rows</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">set</span> (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">00</span> sec)

mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">select</span> <span style="color:#66d9ef">count</span>(<span style="color:#f92672">*</span>) <span style="color:#66d9ef">as</span> a, <span style="color:#66d9ef">count</span>(d) <span style="color:#66d9ef">as</span> b, <span style="color:#66d9ef">count</span>(coalesce(d, <span style="color:#ae81ff">0</span>)) <span style="color:#66d9ef">as</span> <span style="color:#66d9ef">c</span> <span style="color:#66d9ef">from</span> t;
<span style="color:#f92672">+</span><span style="color:#75715e">---+---+---+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> a <span style="color:#f92672">|</span> b <span style="color:#f92672">|</span> <span style="color:#66d9ef">c</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">---+---+---+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> <span style="color:#ae81ff">4</span> <span style="color:#f92672">|</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">|</span> <span style="color:#ae81ff">4</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">---+---+---+
</span><span style="color:#75715e"></span><span style="color:#ae81ff">1</span> <span style="color:#66d9ef">row</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">set</span> (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">00</span> sec)

mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">select</span> d, coalesce(d, <span style="color:#ae81ff">0</span>) <span style="color:#66d9ef">as</span> dc <span style="color:#66d9ef">from</span> t;
<span style="color:#f92672">+</span><span style="color:#75715e">------+------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> d    <span style="color:#f92672">|</span> dc   <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">------+------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span>    <span style="color:#ae81ff">0</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">|</span>    <span style="color:#ae81ff">2</span> <span style="color:#f92672">|</span>    <span style="color:#ae81ff">2</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">|</span>    <span style="color:#ae81ff">3</span> <span style="color:#f92672">|</span>    <span style="color:#ae81ff">3</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">|</span> <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span>    <span style="color:#ae81ff">0</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">------+------+
</span><span style="color:#75715e"></span><span style="color:#ae81ff">4</span> <span style="color:#66d9ef">rows</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">set</span> (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">00</span> sec)
</code></pre></div><p>Kris&gt; Und außerdem</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">select</span> <span style="color:#ae81ff">0</span><span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span><span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span><span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, <span style="color:#66d9ef">NULL</span><span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, <span style="color:#66d9ef">NULL</span><span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, <span style="color:#66d9ef">NULL</span><span style="color:#f92672">=</span><span style="color:#66d9ef">NULL</span>;
<span style="color:#f92672">+</span><span style="color:#75715e">-----+-----+-----+--------+--------+-----------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> <span style="color:#ae81ff">0</span><span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> <span style="color:#f92672">|</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">|</span> <span style="color:#ae81ff">0</span><span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">|</span> <span style="color:#66d9ef">NULL</span><span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> <span style="color:#f92672">|</span> <span style="color:#66d9ef">NULL</span><span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">|</span> <span style="color:#66d9ef">NULL</span><span style="color:#f92672">=</span><span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">-----+-----+-----+--------+--------+-----------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>   <span style="color:#ae81ff">1</span> <span style="color:#f92672">|</span>   <span style="color:#ae81ff">1</span> <span style="color:#f92672">|</span>   <span style="color:#ae81ff">0</span> <span style="color:#f92672">|</span>   <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span>   <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span>      <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">-----+-----+-----+--------+--------+-----------+
</span><span style="color:#75715e"></span><span style="color:#ae81ff">1</span> <span style="color:#66d9ef">row</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">set</span> (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">00</span> sec)
</code></pre></div><p>Q&gt; Ah, es liegt also daran, daß NULL kein Wert ist, sondern einfach NICHTS.</p>
<p>Kris&gt; NICHTS ist das falsche Wort. Es ist NULL. Das hat viele verschiedene
Bedeutungen in SQL, es ist nicht mal konsistent. Es ist auch nicht undef,
wie in Perl. Es ist NULL. Und was dann passiert, das muß man wissen.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">create</span> <span style="color:#66d9ef">table</span> tt ( t int <span style="color:#66d9ef">null</span>, <span style="color:#66d9ef">unique</span> (t));
Query OK, <span style="color:#ae81ff">0</span> <span style="color:#66d9ef">rows</span> affected (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">37</span> sec)

mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> tt <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">1</span>), (<span style="color:#ae81ff">2</span>), (<span style="color:#ae81ff">2</span>);
ERROR <span style="color:#ae81ff">1062</span> (<span style="color:#ae81ff">23000</span>): Duplicate entry <span style="color:#e6db74">&#39;2&#39;</span> <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">key</span> <span style="color:#e6db74">&#39;t&#39;</span>
</code></pre></div><p>aber</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> tt <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">1</span>), (<span style="color:#ae81ff">2</span>), (<span style="color:#66d9ef">NULL</span>);
Query OK, <span style="color:#ae81ff">3</span> <span style="color:#66d9ef">rows</span> affected (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">00</span> sec)
Records: <span style="color:#ae81ff">3</span>  Duplicates: <span style="color:#ae81ff">0</span>  Warnings: <span style="color:#ae81ff">0</span>

mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> tt <span style="color:#66d9ef">values</span> (<span style="color:#66d9ef">NULL</span>);
Query OK, <span style="color:#ae81ff">1</span> <span style="color:#66d9ef">row</span> affected (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">00</span> sec)

mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">select</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">from</span> tt;
<span style="color:#f92672">+</span><span style="color:#75715e">------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> t    <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">|</span> <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">|</span>    <span style="color:#ae81ff">1</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">|</span>    <span style="color:#ae81ff">2</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">------+
</span><span style="color:#75715e"></span><span style="color:#ae81ff">4</span> <span style="color:#66d9ef">rows</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">set</span> (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">00</span> sec)
</code></pre></div><p>Kris&gt; Das liegt daran, daß der UNQIUE INDEX schaut, ob für irgendeinen
vorhandenen wert = der neue wert wahr ist. Wenn ja, wird der Wert abgelehnt.
Wenn du aber ein vorhandenes NULL mit dem neuen NULL vergleichst, dann ist
das nie wahr, und auch nie falsch, sondern immer NULL.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">select</span> <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">NULL</span>, <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">&lt;&gt;</span> <span style="color:#66d9ef">NULL</span>;
<span style="color:#f92672">+</span><span style="color:#75715e">-------------+--------------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span> <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">&lt;&gt;</span> <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">-------------+--------------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>        <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span>         <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">-------------+--------------+
</span><span style="color:#75715e"></span><span style="color:#ae81ff">1</span> <span style="color:#66d9ef">row</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">set</span> (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">00</span> sec)
</code></pre></div><p>Kris&gt; NULL ist also nicht gleich NULL, NULL ist jedoch auch nicht ungleich
NULL. NULL ist auch nicht ungleich wahr, und es ist auch nicht gleich wahr.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">select</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">NULL</span>, <span style="color:#ae81ff">1</span> <span style="color:#f92672">&lt;&gt;</span> <span style="color:#66d9ef">NULL</span>;
<span style="color:#f92672">+</span><span style="color:#75715e">----------+-----------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">&lt;&gt;</span> <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">----------+-----------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>     <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span>      <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">----------+-----------+
</span><span style="color:#75715e"></span><span style="color:#ae81ff">1</span> <span style="color:#66d9ef">row</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">set</span> (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">00</span> sec)
</code></pre></div><p>Kris&gt; NULL ist auch nicht ungleich falsch und auch nicht gleich falsch.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">
mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">select</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">NULL</span>, <span style="color:#ae81ff">0</span> <span style="color:#f92672">&lt;&gt;</span> <span style="color:#66d9ef">NULL</span>;
<span style="color:#f92672">+</span><span style="color:#75715e">----------+-----------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">&lt;&gt;</span> <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">----------+-----------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>     <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span>      <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">----------+-----------+
</span><span style="color:#75715e"></span><span style="color:#ae81ff">1</span> <span style="color:#66d9ef">row</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">set</span> (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">00</span> sec)
</code></pre></div><p>Kris&gt; NULL ist NULL.</p>
<p>Q&gt; LOL. Kris, Du bist ein.. ich weiß es nicht. Irgendwas verrücktes.</p>
<p>Kris&gt; Perl Programmierer kennen nun undef, und sehen</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">
KK:<span style="color:#f92672">~</span> kris$ perl <span style="color:#f92672">-</span>e <span style="color:#e6db74">&#39;$a = undef; print &#34;keks${a}keks\n&#34;;&#39;</span>
kekskeks
</code></pre></div><p>Kris&gt; SQL dagegen</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">select</span> concat(<span style="color:#e6db74">&#39;keks&#39;</span>, <span style="color:#e6db74">&#39;keks&#39;</span>) <span style="color:#66d9ef">as</span> keks, concat(<span style="color:#e6db74">&#39;keks&#39;</span>,<span style="color:#66d9ef">NULL</span>,<span style="color:#e6db74">&#39;keks&#39;</span>) <span style="color:#66d9ef">as</span> nix;
<span style="color:#f92672">+</span><span style="color:#75715e">----------+------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> keks     <span style="color:#f92672">|</span> nix  <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">----------+------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> kekskeks <span style="color:#f92672">|</span> <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">----------+------+
</span><span style="color:#75715e"></span><span style="color:#ae81ff">1</span> <span style="color:#66d9ef">row</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">set</span> (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">00</span> sec)
</code></pre></div><p>Kris&gt; NULL ist NULL. Es ist nicht Nix. Also es ist nicht &ldquo;&rdquo;. Es ist NULL.
Perl programmierer wieder so</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">KK:<span style="color:#f92672">~</span> kris$ perl <span style="color:#f92672">-</span>e <span style="color:#e6db74">&#39;$a = undef; print 10+$a,&#34;\n&#34;;&#39;</span>
<span style="color:#ae81ff">10</span>
</code></pre></div><p>Kris&gt; Rate was SQL macht?</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">select</span> <span style="color:#ae81ff">10</span> <span style="color:#f92672">+</span> <span style="color:#66d9ef">NULL</span>;
<span style="color:#f92672">+</span><span style="color:#75715e">-----------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> <span style="color:#ae81ff">10</span> <span style="color:#f92672">+</span> <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">-----------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>      <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">-----------+
</span><span style="color:#75715e"></span><span style="color:#ae81ff">1</span> <span style="color:#66d9ef">row</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">set</span> (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">00</span> sec)
</code></pre></div><p>Kris&gt; Vernichtet NULL also alles, womit es in Kontakt kommt? Nein, es ist
nicht systematisch. In Aggregaten wird es übersprungen.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">
mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">select</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">from</span> tt;
<span style="color:#f92672">+</span><span style="color:#75715e">------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> t    <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">|</span> <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">|</span>    <span style="color:#ae81ff">1</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">|</span>    <span style="color:#ae81ff">2</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">------+
</span><span style="color:#75715e"></span><span style="color:#ae81ff">4</span> <span style="color:#66d9ef">rows</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">set</span> (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">00</span> sec)

mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">select</span> <span style="color:#66d9ef">count</span>(t), <span style="color:#66d9ef">sum</span>(t) <span style="color:#66d9ef">from</span> tt;
<span style="color:#f92672">+</span><span style="color:#75715e">----------+--------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> <span style="color:#66d9ef">count</span>(t) <span style="color:#f92672">|</span> <span style="color:#66d9ef">sum</span>(t) <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">----------+--------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>        <span style="color:#ae81ff">2</span> <span style="color:#f92672">|</span>      <span style="color:#ae81ff">3</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">----------+--------+
</span><span style="color:#75715e"></span><span style="color:#ae81ff">1</span> <span style="color:#66d9ef">row</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">set</span> (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">00</span> sec)
</code></pre></div><p>Kris&gt; Konsequenterweise ist also avg(t) auch sum(t)/count(t) = 3/2 = 1.5</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">
mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">select</span> <span style="color:#66d9ef">count</span>(t), <span style="color:#66d9ef">sum</span>(t), <span style="color:#66d9ef">avg</span>(t) <span style="color:#66d9ef">from</span> tt;
<span style="color:#f92672">+</span><span style="color:#75715e">----------+--------+--------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> <span style="color:#66d9ef">count</span>(t) <span style="color:#f92672">|</span> <span style="color:#66d9ef">sum</span>(t) <span style="color:#f92672">|</span> <span style="color:#66d9ef">avg</span>(t) <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">----------+--------+--------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>        <span style="color:#ae81ff">2</span> <span style="color:#f92672">|</span>      <span style="color:#ae81ff">3</span> <span style="color:#f92672">|</span> <span style="color:#ae81ff">1</span>.<span style="color:#ae81ff">5000</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">----------+--------+--------+
</span><span style="color:#75715e"></span><span style="color:#ae81ff">1</span> <span style="color:#66d9ef">row</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">set</span> (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">00</span> sec)
</code></pre></div><p>Kris&gt; Es gibt ein Prädikat, das NULL testbar macht - ISNULL(). Es gibt einen
Operator, der NULL testbar macht: IS NULL</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">select</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">from</span> tt <span style="color:#66d9ef">where</span> t <span style="color:#66d9ef">IS</span> <span style="color:#66d9ef">NULL</span>;
<span style="color:#f92672">+</span><span style="color:#75715e">------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> t    <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">|</span> <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">------+
</span><span style="color:#75715e"></span><span style="color:#ae81ff">2</span> <span style="color:#66d9ef">rows</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">set</span> (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">00</span> sec)

mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">select</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">from</span> tt <span style="color:#66d9ef">where</span> <span style="color:#66d9ef">isnull</span>(t);
<span style="color:#f92672">+</span><span style="color:#75715e">------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> t    <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">|</span> <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">------+
</span><span style="color:#75715e"></span><span style="color:#ae81ff">2</span> <span style="color:#66d9ef">rows</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">set</span> (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">00</span> sec)
</code></pre></div><p>Kris&gt; Es gibt in MySQL einen nonstandard Komparator, der NULL normalisiert.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">select</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">from</span> tt <span style="color:#66d9ef">as</span> a <span style="color:#66d9ef">join</span> tt <span style="color:#66d9ef">as</span> b <span style="color:#66d9ef">on</span> a.t <span style="color:#f92672">&lt;=&gt;</span> b.t;
<span style="color:#f92672">+</span><span style="color:#75715e">------+------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> t    <span style="color:#f92672">|</span> t    <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">------+------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span> <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">|</span> <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span> <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">|</span> <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span> <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">|</span> <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span> <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">|</span>    <span style="color:#ae81ff">1</span> <span style="color:#f92672">|</span>    <span style="color:#ae81ff">1</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">|</span>    <span style="color:#ae81ff">2</span> <span style="color:#f92672">|</span>    <span style="color:#ae81ff">2</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">------+------+
</span><span style="color:#75715e"></span><span style="color:#ae81ff">6</span> <span style="color:#66d9ef">rows</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">set</span> (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">00</span> sec)

mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">select</span> <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">&lt;=&gt;</span> <span style="color:#66d9ef">NULL</span>, <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">&lt;=&gt;</span> <span style="color:#ae81ff">0</span>, <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">&lt;=&gt;</span> <span style="color:#ae81ff">1</span>;
<span style="color:#f92672">+</span><span style="color:#75715e">---------------+------------+------------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">&lt;=&gt;</span> <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span> <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">&lt;=&gt;</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">|</span> <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">&lt;=&gt;</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">---------------+------------+------------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>             <span style="color:#ae81ff">1</span> <span style="color:#f92672">|</span>          <span style="color:#ae81ff">0</span> <span style="color:#f92672">|</span>          <span style="color:#ae81ff">0</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">---------------+------------+------------+
</span><span style="color:#75715e"></span><span style="color:#ae81ff">1</span> <span style="color:#66d9ef">row</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">set</span> (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">00</span> sec)
</code></pre></div><p>Kris&gt; Vergleiche den normalen =-Operator.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">select</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">from</span> tt <span style="color:#66d9ef">as</span> a <span style="color:#66d9ef">join</span> tt <span style="color:#66d9ef">as</span> b <span style="color:#66d9ef">on</span> a.t <span style="color:#f92672">=</span> b.t;
<span style="color:#f92672">+</span><span style="color:#75715e">------+------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> t    <span style="color:#f92672">|</span> t    <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">------+------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>    <span style="color:#ae81ff">1</span> <span style="color:#f92672">|</span>    <span style="color:#ae81ff">1</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">|</span>    <span style="color:#ae81ff">2</span> <span style="color:#f92672">|</span>    <span style="color:#ae81ff">2</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">------+------+
</span><span style="color:#75715e"></span><span style="color:#ae81ff">2</span> <span style="color:#66d9ef">rows</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">set</span> (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">00</span> sec)
</code></pre></div><p>Kris&gt; Und es gibt eine Funktion, die, wenn sie einen NULL vorfindet, einen
Default einsetzt. Genau genommen nimmt COALESCE() eine Liste von Werten und
gibt den ersten Wert aus, der nicht NULL ist.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">select</span> coalesce(t, <span style="color:#ae81ff">17</span>) <span style="color:#66d9ef">from</span> tt;
<span style="color:#f92672">+</span><span style="color:#75715e">-----------------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> coalesce(t, <span style="color:#ae81ff">17</span>) <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">-----------------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>              <span style="color:#ae81ff">17</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">|</span>              <span style="color:#ae81ff">17</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">|</span>               <span style="color:#ae81ff">1</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">|</span>               <span style="color:#ae81ff">2</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">-----------------+
</span><span style="color:#75715e"></span><span style="color:#ae81ff">4</span> <span style="color:#66d9ef">rows</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">set</span> (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">00</span> sec)
</code></pre></div><p>Kris&gt; Und ich lehre unsere Entwickler, im Zweifel jeden NULLbaren wert in
COALESCE() zu wickeln, weil sie die Logik von SQL im Hinblick auf NULL
sowieso nicht korrekt hinkriegen. Also, im Hinblick auf die o.a. Tabelle tt:</p>
<p>Kris&gt; Wenn</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">select</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">from</span> tt <span style="color:#66d9ef">where</span> t <span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
<span style="color:#f92672">+</span><span style="color:#75715e">------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> t    <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>    <span style="color:#ae81ff">1</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">------+
</span><span style="color:#75715e"></span><span style="color:#ae81ff">1</span> <span style="color:#66d9ef">row</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">set</span> (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">00</span> sec)
</code></pre></div><p>ist, was ist dann der REST der Tabelle, also welches SQL-Statement lädt mir
die andere Hälfte des Universums?</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">select</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">from</span> tt <span style="color:#66d9ef">where</span> t <span style="color:#f92672">&lt;&gt;</span> <span style="color:#ae81ff">1</span>;
<span style="color:#f92672">+</span><span style="color:#75715e">------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> t    <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>    <span style="color:#ae81ff">2</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">------+
</span><span style="color:#75715e"></span><span style="color:#ae81ff">1</span> <span style="color:#66d9ef">row</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">set</span> (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">00</span> sec)
</code></pre></div><p>Kris&gt; Moment! Da fehlt doch was!</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">select</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">from</span> tt <span style="color:#66d9ef">where</span> t <span style="color:#66d9ef">IS</span> <span style="color:#66d9ef">NULL</span>;
<span style="color:#f92672">+</span><span style="color:#75715e">------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> t    <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">|</span> <span style="color:#66d9ef">NULL</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">------+
</span><span style="color:#75715e"></span><span style="color:#ae81ff">2</span> <span style="color:#66d9ef">rows</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">set</span> (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">00</span> sec)
</code></pre></div><p>Das Gegenteil von <code>SELECT * from tt where t = 1</code> ist eben NICHT <code>select * from tt where t &lt;&gt; 1</code>. Es ist <code>SELECT * from tt where t &lt;&gt; 1 OR t IS NULL</code>,
weil <code>tt.t</code> nullbar ist. Und weil das Programmierer nie im Leben hinkriegen,
verbieten wir denen NULL Werte weitestgehend.</p>


	
    </article>
</div>



            <footer>
    <p>
	&copy; Copyright 2021 Someone or something
    </p>
</footer>


        </main>

	





<script src="/js/bootstrap.js"></script>




<script src="/js/lunr.js"></script>





<script src="/js/app.js"></script>


    </body>
</html>
