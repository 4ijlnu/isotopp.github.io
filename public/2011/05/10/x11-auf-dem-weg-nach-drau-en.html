<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<title>Die wunderbare Welt von Isotopp - X11 auf dem Weg nach draußen</title>
<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="manifest" href="site.webmanifest">
<link rel="apple-touch-icon" href="icon.png">
<link rel="favicon.ico" rel="icon" type="image/ico">





	



<link rel="stylesheet" href="/style.min.c5e5cd61f54911f9aafd1dbe09c2f90667957bfe1002126c87aace57759f3446.css">


    </head>
    <body>
        

        <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
	<a class="navbar-brand" href="" rel="home" title=".Site.Title">
	    Die wunderbare Welt von Isotopp
	</a>
	<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
	</button>

	<div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
		
		
		<li class="nav-item ">
                    <a class="nav-link" href="/about/">
			
			<span>About</span>
			<span class="visually-hidden">(Current)</span>
		    </a>
		    
		</li>
            </ul>
            
	</div>
    </div>
</nav>


        <main role="main" class="container-fluid">

            


<div class="page">
    <article class="x11-auf-dem-weg-nach-drau%C3%9Fen-page">
	<h1 class="title">
            X11 auf dem Weg nach draußen
	</h1>

	<p>Im September 1987 wurde die Version 11 des X-Protokolls erfunden. Damals war
alles schlimm: Wir hatten keinen Speicher, keine leistungsfähigen CPUs,
keine Fonts, schon gar keine Vektorfonts, keine Farbe, schon gar keine
Echtfarbe ohne Paletten, keine Transparency und vor allen Dingen keine
Ahnung.</p>
<p>X11 war für Unix das Displaysystem der Wahl. Es macht eine ganze Menge Dinge
falsch: Zum Beispiel lebt es unter der Annahme, daß das Grafiksubsystem des
Rechners keine Rechenpower und wenig Speicher hat. So definiert es dann auch
einen Haufen Zeichenprimitive, die kilometerweit unter den Bedürfnissen
eines Fenstersystems liegen und läßt den Windowmanager auf der anderen Seite
des Netzwerkes als X11-Anwendung laufen. Es hat per Default Double Buffering
abgeschaltet und zeichnet per Default auch auf dem sichtbaren Screen statt
auf einem Offscreen-Puffer, der dann eingeblittet oder besser noch
eingeblendet wird. Von 3D und OpenGL hat es so gar keine Ahnung. Was heute,
in 2011, auf dem Bildschirm herum malt ist nur der Form halber noch X11, in
Wirklichkeit sind es aber meistenteils in X11-Extension verpackte
Spezialcalls, die mit X11 fast nichts mehr zu tun haben.</p>
<p>Und es ist langsam. Wenn wir einen modernen Bildschirm mit X11 über das
Netzwerk raus sharen, dann stirbt X11 den Latenztod - formal ist X11
netzwerktransparent, aber in Wirklichkeit ist nichts an dem Protokoll
besonders geeignet oder schlau, wenn es darum geht, Daten über das Netzwerk
zu schaufeln. Andere Protokolle sind inzwischen weitaus besser geeignet,
Bildschirme über Netz zu exportieren: Selbst das halbtote VNC ist in der
Regel schneller und besser als X11, RDP und NX sind sogar richtig gut da
drin.</p>
<p>In diesem Sinne:
<a href="http://www.pro-linux.de/news/1/17018/xfree86-der-lebende-tote.html" target="_blank" rel="noopener">XFree86</a>


hat keine Comitter mehr. Der X.org Fork hat das Projekt vor Jahren abgelöst
und so die Firmen, die versucht haben, das X-Consortium zu Tode zu
kontrollieren, entmachtet. Aber auch X.org verliert an Bedeutung:
<a href="http://www.golem.de/1105/83334.html" target="_blank" rel="noopener">Wayland</a>

 ersetzt es gerade. Was gut
ist, weil dann ein Haufen alter Scheiß rausfliegt und man dann auch für den
häufigen Fall - lokales Display mit Hardware Acceleration - optimieren kann.</p>
<p><strong>Nachtrag:</strong> Um den Kommentatoren unter diesem Artikel einmal ein wenig
weiter zu helfen, hier ein paar Dinge zum Nachlesen.</p>
<ul>
<li>
<p><a href="http://wayland.freedesktop.org/architecture.html" target="_blank" rel="noopener">Wayland Architecture Overview</a>

 -
das erklärt die Anordnung der Dinge, wie sie vor Wayland gelaufen sind und
wie sie Wayland realisiert.</p>
</li>
<li>
<p>Moderne Desktops in Linux verwenden einen Compositor wie
<a href="http://en.wikipedia.org/wiki/Compiz" target="_blank" rel="noopener">Compiz</a>

.</p>
</li>
<li>
<p>Moderne Grafikhardware hat 3D Beschleuniger. Ein 3D-Beschleuniger
verwendet eine Tile (Kachel), um damit die Kanten von dreidimensionalen
Objekten zu bemalen. Die Hardware projeziert, skaliert und verformt dabei
die Tile so, daß sie auf die Seite des 3D-Objektes abgebildet wird. Wenn
das dreidimensionale Objekt eine rechteckige Leinwand ist, die nicht
skaliert und verformt ist, dann wird die Kachel per Hardware 1:1 auf der
Leinwand abgebildet und man hat einen Bildschirm, dessen Fenster-Rechtecke
per Hardware mit den Inhalten verschiedener unabhängiger Grafikpuffer
gefüllt wird. Diese Puffer zu verwalten und mit Effekten zu dekorieren ist
die Aufgabe eines Compositors. X11 weiß nichts von Compositors, die
X11-Erweiterung für Compositors schleust bloß Bitmaps sinnlos durch den
X11-Server. <em>Da</em> kommt Latenz her.</p>
</li>
<li>
<p>Der erste Ansatz um Compositors unter X11 zum Laufen zu bringen war
<a href="http://en.wikipedia.org/wiki/Xgl" target="_blank" rel="noopener">Xgl</a>

. Xgl ist die Scheißidee, einen
X-Server unter einem X-Server laufen zu lassen. Dabei steuert der äußere
X-Server die Grafikhardware, der innere dann das Zeichnen mit X (das
sowieso niemand mehr verwendet).</p>
</li>
<li>
<p>Moderne X-Server verwenden <a href="http://en.wikipedia.org/wiki/AIGLX" target="_blank" rel="noopener">AIGLX</a>

.
Das ist eine Methode, bei der man essentiell dem X-Server sagt: &ldquo;Okay, Du
kannst da jetzt rumstehen und nix tun, aber dieses Rechteck da zeichnet
jetzt jemand anders als Du, nämlich OpenGL.&rdquo;. Wayland komplettiert diesen
Schritt nur, indem es den Default richtig rum setzt: Es räumt den
X-Server, der sowieso nicht mehr verwendet wird, aus dem Weg.</p>
</li>
<li>
<p>Qt und GTK haben Wayland-Support. Beide Toolkits malen schon seit längeren
fertige Tiles - X-Primitives verwendet schon lange niemand mehr, weil sie
zu scheiße aussehen und auch nicht portabel auf Windows-, Mac- oder
Handy-Hardware sind. Die Tiles werden dann entweder mit X11 oder eben
direkt in Wayland zum Compositor geshipped, der daraus einen Bildschirm
mit Fenstern macht. Qt kann sogar zur Laufzeit den Shipping Mechanismus
zwischen X11 und Wayland umschalten.</p>
</li>
</ul>
<p>Die Executive Summary ist: X11 ist schon länger tot. Es ist durch Extensions
zu einem recht ineffizienten Durchreich-Mechanismus für Tiles (Pixmaps)
geworden. Es kontrolliert auch nicht mehr die Hardware - einer
Usermode-Anwendung root-Rechte zu geben, damit sie in Grafikkarten-Register
poken kann ist sowieso galoppierender Unsinn gewesen und
<a href="http://en.wikipedia.org/wiki/Mode-setting#Linux" target="_blank" rel="noopener">Kernel Mode Setting</a>

 hat das zum Glück
überflüssig gemacht.</p>
<p>Wayland streut nun die Blumen auf das Grab und schaufelt endlich die Erde
drauf. Es ruhe in Frieden.</p>


	
    </article>
</div>



            <footer>
    <p>
	&copy; Copyright 2021 Someone or something
    </p>
</footer>


        </main>

	





<script src="/js/bootstrap.js"></script>




<script src="/js/lunr.js"></script>





<script src="/js/app.js"></script>


    </body>
</html>
