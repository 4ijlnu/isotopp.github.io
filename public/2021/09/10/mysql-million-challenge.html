<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<title>Die wunderbare Welt von Isotopp - MySQL: The Million Challenge</title>
<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="manifest" href="site.webmanifest">
<link rel="apple-touch-icon" href="icon.png">
<link rel="favicon.ico" rel="icon" type="image/ico">





	



<link rel="stylesheet" href="/style.min.c5e5cd61f54911f9aafd1dbe09c2f90667957bfe1002126c87aace57759f3446.css">


    </head>
    <body>
        

        <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
	<a class="navbar-brand" href="" rel="home" title=".Site.Title">
	    Die wunderbare Welt von Isotopp
	</a>
	<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
	</button>

	<div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
		
		
		<li class="nav-item ">
                    <a class="nav-link" href="/about/">
			
			<span>About</span>
			<span class="visually-hidden">(Current)</span>
		    </a>
		    
		</li>
            </ul>
            
	</div>
    </div>
</nav>


        <main role="main" class="container-fluid">

            


<div class="page">
    <article class="mysql-the-million-challenge-page">
	<h1 class="title">
            MySQL: The Million Challenge
	</h1>

	<p>A long standing idea that I have is to test the servers limits:
How does it fail and break if there are very many of a thing?
Previously that was too easy, because many structures were constructed in a way that it was obvious they would not scale.
But with MySQL 8 many things were overhauled, so let&rsquo;s see what we can make many of and see how the server fares.</p>
<h1 id="the-million-challenge">
    <a href="#the-million-challenge">
	The Million Challenge
    </a>
</h1>
<p>Database servers are programs that are built to handle a lot of data. A million rows in a table are not a problem, and searching one in a million rows neither, because the server has structures that make this fast.</p>
<p>But is the database server using these structures internally in an efficient way and can it handle a lot of tables, schemas, views, users, grants, roles and so on?</p>
<p>What can we try?</p>
<ul>
<li>Make a million tables and see how performance degrades or not.
<ul>
<li>Will this work better if we use general tablespaces instead of file-per-table?</li>
</ul>
</li>
<li>Make a million views, all pointing to the same table.</li>
<li>Nest views, one million deep.</li>
<li>Make a million stored procedures.
<ul>
<li>Make a million stored procedures, calling each other in a chain.</li>
</ul>
</li>
<li>Make a many triggers? Is that even possible?</li>
<li>Make a million users.
<ul>
<li>Make a million grants. This one is dear to my heart - we have this at work in one environment and it broke the server in an exciting and hard to fix way. <code>GRANT</code> statements in the processlist and <code>SHOW PROCESSLIST</code> running concurrently raced badly.</li>
<li>Make a million concurrent connections. Well, no, but I have seen 60.000 already, and it was not pretty. This failed in interesting ways, because monitoring was joining against <code>P_S.THREADS</code> and fell over badly.</li>
</ul>
</li>
<li>Make a million users, using roles.
<ul>
<li>Make a million roles.</li>
</ul>
</li>
</ul>
<p>Any other ideas that fit the general theme?</p>


	
    </article>
</div>



            <footer>
    <p>
	&copy; Copyright 2021 Someone or something
    </p>
</footer>


        </main>

	





<script src="/js/bootstrap.js"></script>




<script src="/js/lunr.js"></script>





<script src="/js/app.js"></script>


    </body>
</html>
