<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<title>Die wunderbare Welt von Isotopp - Mein privates Datawarehouse - Sparen mit MySQL</title>
<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="manifest" href="site.webmanifest">
<link rel="apple-touch-icon" href="icon.png">
<link rel="favicon.ico" rel="icon" type="image/ico">





	



<link rel="stylesheet" href="/style.min.c5e5cd61f54911f9aafd1dbe09c2f90667957bfe1002126c87aace57759f3446.css">


    </head>
    <body>
        

        <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
	<a class="navbar-brand" href="" rel="home" title=".Site.Title">
	    Die wunderbare Welt von Isotopp
	</a>
	<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
	</button>

	<div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
		
		
		<li class="nav-item ">
                    <a class="nav-link" href="/about/">
			
			<span>About</span>
			<span class="visually-hidden">(Current)</span>
		    </a>
		    
		</li>
            </ul>
            
	</div>
    </div>
</nav>


        <main role="main" class="container-fluid">

            


<div class="page">
    <article class="mein-privates-datawarehouse-sparen-mit-mysql-page">
	<h1 class="title">
            Mein privates Datawarehouse - Sparen mit MySQL
	</h1>

	<p>Meine Sparkasse exportiert mir die Kontoauszüge aus Wunsch auch als CSV. Die
Dateien sehen so aus:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#e6db74">&#34;Auftragskonto&#34;</span>;<span style="color:#e6db74">&#34;Buchungstag&#34;</span>;<span style="color:#e6db74">&#34;Valutadatum&#34;</span>;<span style="color:#e6db74">&#34;Buchungstext&#34;</span>;
<span style="color:#e6db74">&#34;Verwendungszweck&#34;</span>;
<span style="color:#e6db74">&#34;Begünstigter/Zahlungspflichtiger&#34;</span>;<span style="color:#e6db74">&#34;Kontonummer&#34;</span>;<span style="color:#e6db74">&#34;BLZ&#34;</span>;
<span style="color:#e6db74">&#34;Betrag&#34;</span>;<span style="color:#e6db74">&#34;Währung&#34;</span>;<span style="color:#e6db74">&#34;Info&#34;</span>
<span style="color:#e6db74">&#34;08154711&#34;</span>;<span style="color:#e6db74">&#34;30.12&#34;</span>;<span style="color:#e6db74">&#34;30.12.05&#34;</span>;<span style="color:#e6db74">&#34;LASTSCHRIFT&#34;</span>;
<span style="color:#e6db74">&#34;DRP 08154711 040441777  INKL. 16% UST 5.38 EUR&#34;</span>;
<span style="color:#e6db74">&#34;STRATO MEDIEN AG&#34;</span>;<span style="color:#e6db74">&#34;040441777&#34;</span>;<span style="color:#e6db74">&#34;10050000&#34;</span>;
<span style="color:#e6db74">&#34;-39,00&#34;</span>;<span style="color:#e6db74">&#34;EUR&#34;</span>;<span style="color:#e6db74">&#34;Umsatz gebucht&#34;</span>
</code></pre></div><p>Weil ich wissen will, wofür ich mein Geld ausgebe, lade ich diese Daten in
ein MySQL.</p>
<p>Das geht so:</p>
<p>Zunächst einmal muß ich mir eine Tabelle definieren, in die ich den Load
vornehmen kann. Diese Tabelle hat Felder, die in erster Linie dazu
geschaffen sind, die Daten aufnehmen zu können. Wir müssen die Daten noch
bereinigen, sodaß es sich noch nicht um die endgültigen Felder oder Typen
handelt.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#75715e">-- load data
</span><span style="color:#75715e"></span>warnings;
<span style="color:#66d9ef">DROP</span> <span style="color:#66d9ef">TABLE</span> <span style="color:#66d9ef">IF</span> <span style="color:#66d9ef">EXISTS</span> buchungen;
<span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">TABLE</span> buchungen (
  auftragskonto char(<span style="color:#ae81ff">8</span>) <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">NULL</span>,
  buchungstag_text char(<span style="color:#ae81ff">10</span>) <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">NULL</span>,
  valutatag_text char(<span style="color:#ae81ff">10</span>) <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">NULL</span>,
  buchungstext varchar(<span style="color:#ae81ff">50</span>) <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">NULL</span>,
  verwendungszweck varchar(<span style="color:#ae81ff">180</span>) <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">NULL</span>,
  gegenkonto_name varchar(<span style="color:#ae81ff">100</span>) <span style="color:#66d9ef">NOT</span>  <span style="color:#66d9ef">NULL</span>,
  gegenkonto_nummer char(<span style="color:#ae81ff">20</span>) <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">NULL</span>,
  gegenkonto_blz char(<span style="color:#ae81ff">8</span>) <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">NULL</span>,
  betrag_text char(<span style="color:#ae81ff">12</span>) <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">NULL</span>,
  waehrung char(<span style="color:#ae81ff">3</span>) <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">NULL</span>,
  info varchar(<span style="color:#ae81ff">255</span>) <span style="color:#66d9ef">NOT</span>  <span style="color:#66d9ef">NULL</span>,
  <span style="color:#66d9ef">unique</span> <span style="color:#66d9ef">index</span> ( buchungstag_text
    , buchungstext
    , verwendungszweck
    , gegenkonto_nummer
    , gegenkonto_blz
    , betrag_text)
) ENGINE<span style="color:#f92672">=</span>MyISAM <span style="color:#66d9ef">DEFAULT</span> CHARSET<span style="color:#f92672">=</span>utf8;
<span style="color:#66d9ef">truncate</span> <span style="color:#66d9ef">table</span> buchungen;
</code></pre></div><p>Es fällt auf, daß in den Kontoauszügen keine eindeutigen Transaktionsnummern
sind, sodaß ich keinen Primärschlüssel definieren kann. Mit dem Unique
Index, den ich dort definiere, versuche ich doppelte Datensätze zu
entdecken. Dies kann jedoch falsche positive Treffer liefern.</p>
<p>In diese Tabelle kann ich nun nacheinander die einzelnen CSV mit den
Kontoauszügen hinein laden:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#66d9ef">load</span> <span style="color:#66d9ef">data</span> infile  
  <span style="color:#e6db74">&#39;/home/kris/Documents/banking/umsatz-22758031-29122004.csv&#39;</span> 
<span style="color:#66d9ef">into</span> <span style="color:#66d9ef">table</span> buchungen 
fields terminated <span style="color:#66d9ef">by</span> <span style="color:#e6db74">&#34;;&#34;</span> 
optionally enclosed <span style="color:#66d9ef">by</span> <span style="color:#e6db74">&#39;&#34;&#39;</span> 
<span style="color:#66d9ef">ignore</span> <span style="color:#ae81ff">1</span> lines;
<span style="color:#66d9ef">load</span> <span style="color:#66d9ef">data</span> infile 
  <span style="color:#e6db74">&#39;/home/kris/Documents/banking/umsatz-22758031-24012005.csv&#39;</span> 
<span style="color:#66d9ef">into</span> <span style="color:#66d9ef">table</span> buchungen 
fields terminated <span style="color:#66d9ef">by</span> <span style="color:#e6db74">&#34;;&#34;</span> 
optionally enclosed <span style="color:#66d9ef">by</span> <span style="color:#e6db74">&#39;&#34;&#39;</span> 
<span style="color:#66d9ef">ignore</span> <span style="color:#ae81ff">1</span> lines;
...
</code></pre></div><p>Wir müssen diese Daten nun in brauchbare Datensätze umwandeln. Dazu wird
erst einmal eine Zieltabelle erzeugt und diese mit einem Primärschlüssel
versehen.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#75715e">-- prepare conversion stage
</span><span style="color:#75715e"></span><span style="color:#66d9ef">DROP</span> <span style="color:#66d9ef">TABLE</span> <span style="color:#66d9ef">IF</span> <span style="color:#66d9ef">EXISTS</span> b;
<span style="color:#66d9ef">create</span> <span style="color:#66d9ef">table</span> b <span style="color:#66d9ef">like</span> buchungen;
<span style="color:#66d9ef">alter</span> <span style="color:#66d9ef">table</span> b <span style="color:#66d9ef">add</span> <span style="color:#66d9ef">column</span> id integer unsigned <span style="color:#66d9ef">not</span> <span style="color:#66d9ef">null</span> <span style="color:#66d9ef">first</span>;
<span style="color:#66d9ef">alter</span> <span style="color:#66d9ef">table</span> b <span style="color:#66d9ef">add</span> <span style="color:#66d9ef">primary</span> <span style="color:#66d9ef">key</span> (id);
<span style="color:#66d9ef">alter</span> <span style="color:#66d9ef">table</span> b change <span style="color:#66d9ef">column</span> id 
  id integer unsigned <span style="color:#66d9ef">not</span> <span style="color:#66d9ef">null</span> auto_increment;
</code></pre></div><p>Jetzt können die Daten umgeladen werden und danach die Felder bereinigt
werden: Das Betrag-Feld muß von &ldquo;xxx.xxx,yy&rdquo;-Syntax auf &ldquo;xxxxxx.yy&rdquo;
umgestellt werden und die Datumsfelder valutatag_text und buchungstag_text
müssen in ISO-Syntax umgestellt werden. Dabei muß das fehlende Jahr beim
buchungstag_text aus dem valutatag ergänzt werden.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#75715e">-- load data into conversion stage
</span><span style="color:#75715e"></span><span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> b <span style="color:#66d9ef">select</span> <span style="color:#66d9ef">NULL</span>, buchungen.<span style="color:#f92672">*</span> <span style="color:#66d9ef">from</span> buchungen;

<span style="color:#75715e">-- adapt betrag
</span><span style="color:#75715e"></span><span style="color:#66d9ef">update</span> b <span style="color:#66d9ef">set</span> betrag_text <span style="color:#f92672">=</span> <span style="color:#66d9ef">replace</span>(betrag_text, <span style="color:#e6db74">&#34;.&#34;</span>, <span style="color:#e6db74">&#34;&#34;</span>);
<span style="color:#66d9ef">update</span> b <span style="color:#66d9ef">set</span> betrag_text <span style="color:#f92672">=</span> <span style="color:#66d9ef">replace</span>(betrag_text, <span style="color:#e6db74">&#34;,&#34;</span>, <span style="color:#e6db74">&#34;.&#34;</span>);
<span style="color:#66d9ef">alter</span> <span style="color:#66d9ef">table</span> b change <span style="color:#66d9ef">column</span> betrag_text 
  betrag decimal(<span style="color:#ae81ff">12</span>,<span style="color:#ae81ff">2</span>) <span style="color:#66d9ef">not</span> <span style="color:#66d9ef">null</span>;

<span style="color:#75715e">-- adapt valutatag
</span><span style="color:#75715e"></span><span style="color:#66d9ef">update</span> b <span style="color:#66d9ef">set</span> valutatag_text <span style="color:#f92672">=</span> 
concat(<span style="color:#e6db74">&#34;20&#34;</span>, 
   <span style="color:#66d9ef">substring</span>(valutatag_text, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">2</span>), 
   <span style="color:#e6db74">&#34;-&#34;</span>, 
   <span style="color:#66d9ef">substring</span>(valutatag_text, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">2</span>), 
   <span style="color:#e6db74">&#34;-&#34;</span>, 
   <span style="color:#66d9ef">substring</span>(valutatag_text, <span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>));
<span style="color:#66d9ef">alter</span> <span style="color:#66d9ef">table</span> b change <span style="color:#66d9ef">column</span> valutatag_text 
  valutatag date <span style="color:#66d9ef">not</span> <span style="color:#66d9ef">null</span>;

<span style="color:#75715e">-- adapt buchungstag
</span><span style="color:#75715e"></span><span style="color:#66d9ef">update</span> b <span style="color:#66d9ef">set</span> buchungstag_text <span style="color:#f92672">=</span> 
concat(<span style="color:#66d9ef">year</span>(valutatag), 
   <span style="color:#e6db74">&#34;-&#34;</span>, 
   <span style="color:#66d9ef">substring</span>(buchungstag_text, <span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">2</span>), 
   <span style="color:#e6db74">&#34;-&#34;</span>, 
   <span style="color:#66d9ef">substring</span>(buchungstag_text, <span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>));
<span style="color:#66d9ef">alter</span> <span style="color:#66d9ef">table</span> b change <span style="color:#66d9ef">column</span> buchungstag_text 
  buchungstag date <span style="color:#66d9ef">not</span> <span style="color:#66d9ef">null</span>;

<span style="color:#75715e">-- drop info
</span><span style="color:#75715e"></span><span style="color:#66d9ef">alter</span> <span style="color:#66d9ef">table</span> b <span style="color:#66d9ef">drop</span> <span style="color:#66d9ef">column</span> info;
</code></pre></div><p>Ich will nun außerdem eine Gruppierung meiner Ausgaben vornehmen. Dazu führe
ich eine Spalte &ldquo;gruppe &ldquo;ein. Mit Hilfe einer weiteren Tabelle
&ldquo;wichtige_geldsenken&rdquo; matche ich dann den gegenkonto_name und fülle die
Gruppe:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#75715e">-- add gruppe
</span><span style="color:#75715e"></span><span style="color:#66d9ef">alter</span> <span style="color:#66d9ef">table</span> b <span style="color:#66d9ef">add</span> <span style="color:#66d9ef">column</span> gruppe varchar(<span style="color:#ae81ff">20</span>) <span style="color:#66d9ef">not</span> <span style="color:#66d9ef">null</span>;
</code></pre></div><p>Und jetzt die wichtige_geldsenken Tabelle:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#66d9ef">DROP</span> <span style="color:#66d9ef">TABLE</span> <span style="color:#66d9ef">IF</span> <span style="color:#66d9ef">EXISTS</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span>;
<span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">TABLE</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> (
  <span style="color:#f92672">`</span>id<span style="color:#f92672">`</span> int(<span style="color:#ae81ff">10</span>) unsigned <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">NULL</span> auto_increment,
  <span style="color:#f92672">`</span>pattern<span style="color:#f92672">`</span> varchar(<span style="color:#ae81ff">100</span>) <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">NULL</span>,
  <span style="color:#f92672">`</span>gruppe<span style="color:#f92672">`</span> varchar(<span style="color:#ae81ff">20</span>) <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">NULL</span>,
  <span style="color:#66d9ef">PRIMARY</span> <span style="color:#66d9ef">KEY</span>  (<span style="color:#f92672">`</span>id<span style="color:#f92672">`</span>)
) ENGINE<span style="color:#f92672">=</span>MyISAM <span style="color:#66d9ef">DEFAULT</span> CHARSET<span style="color:#f92672">=</span>latin1;

<span style="color:#66d9ef">LOCK</span> TABLES <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">WRITE</span>;
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">77</span>,<span style="color:#e6db74">&#39;sparkasse&#39;</span>,<span style="color:#e6db74">&#39;Konto und Karte&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">78</span>,<span style="color:#e6db74">&#39;ga&#39;</span>,<span style="color:#e6db74">&#39;Geldautomat Inland&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">79</span>,<span style="color:#e6db74">&#39;qsc&#39;</span>,<span style="color:#e6db74">&#39;Internet&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">80</span>,<span style="color:#e6db74">&#39;linux new media&#39;</span>,<span style="color:#e6db74">&#39;Zeitungen&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">81</span>,<span style="color:#e6db74">&#39;premiere&#39;</span>,<span style="color:#e6db74">&#39;Fernsehen&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">82</span>,<span style="color:#e6db74">&#39;walmart&#39;</span>,<span style="color:#e6db74">&#39;Einkauf&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">83</span>,<span style="color:#e6db74">&#39;kabel bw&#39;</span>,<span style="color:#e6db74">&#39;Fernsehen&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">84</span>,<span style="color:#e6db74">&#39;gez&#39;</span>,<span style="color:#e6db74">&#39;Fernsehen&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">85</span>,<span style="color:#e6db74">&#39;t-mobile&#39;</span>,<span style="color:#e6db74">&#39;Telefon&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">86</span>,<span style="color:#e6db74">&#39;finanzkasse&#39;</span>,<span style="color:#e6db74">&#39;Steuern und Strafen&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">87</span>,<span style="color:#e6db74">&#39;domainfactory&#39;</span>,<span style="color:#e6db74">&#39;Internet&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">88</span>,<span style="color:#e6db74">&#39;nagel ue&#39;</span>,<span style="color:#e6db74">&#39;Kleidung&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">89</span>,<span style="color:#e6db74">&#39;mobilcom&#39;</span>,<span style="color:#e6db74">&#39;Telefon&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">90</span>,<span style="color:#e6db74">&#39;domainfactory&#39;</span>,<span style="color:#e6db74">&#39;Internet&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">91</span>,<span style="color:#e6db74">&#39;strato&#39;</span>,<span style="color:#e6db74">&#39;Internet&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">92</span>,<span style="color:#e6db74">&#39;stadtwerke&#39;</span>,<span style="color:#e6db74">&#39;Gas Wasser Scheisse&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">93</span>,<span style="color:#e6db74">&#39;deutsche bahn&#39;</span>,<span style="color:#e6db74">&#39;Bahn&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">94</span>,<span style="color:#e6db74">&#39;debeka&#39;</span>,<span style="color:#e6db74">&#39;Versicherung&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">95</span>,<span style="color:#e6db74">&#39;ec-ga&#39;</span>,<span style="color:#e6db74">&#39;Geldautomat Ausland&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">96</span>,<span style="color:#e6db74">&#39;scheck in&#39;</span>,<span style="color:#e6db74">&#39;Einkauf&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">97</span>,<span style="color:#e6db74">&#39;mastercard&#39;</span>,<span style="color:#e6db74">&#39;Kreditkarte&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">98</span>,<span style="color:#e6db74">&#39;dr.&#39;</span>,<span style="color:#e6db74">&#39;Miete&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">99</span>,<span style="color:#e6db74">&#39;a.t.u&#39;</span>,<span style="color:#e6db74">&#39;Auto&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">100</span>,<span style="color:#e6db74">&#39;ungeheuer&#39;</span>,<span style="color:#e6db74">&#39;Auto&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">101</span>,<span style="color:#e6db74">&#39;agip&#39;</span>,<span style="color:#e6db74">&#39;Sprit&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">102</span>,<span style="color:#e6db74">&#39;aral&#39;</span>,<span style="color:#e6db74">&#39;Sprit&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">103</span>,<span style="color:#e6db74">&#39;avia&#39;</span>,<span style="color:#e6db74">&#39;Sprit&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">104</span>,<span style="color:#e6db74">&#39;bab&#39;</span>,<span style="color:#e6db74">&#39;Sprit&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">105</span>,<span style="color:#e6db74">&#39;citti&#39;</span>,<span style="color:#e6db74">&#39;Einkauf&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">106</span>,<span style="color:#e6db74">&#39;efa&#39;</span>,<span style="color:#e6db74">&#39;Sprit&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">107</span>,<span style="color:#e6db74">&#39;esso&#39;</span>,<span style="color:#e6db74">&#39;Sprit&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">108</span>,<span style="color:#e6db74">&#39;expedia&#39;</span>,<span style="color:#e6db74">&#39;Reisen&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">109</span>,<span style="color:#e6db74">&#39;fantasy&#39;</span>,<span style="color:#e6db74">&#39;RPG&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">110</span>,<span style="color:#e6db74">&#39;gravis&#39;</span>,<span style="color:#e6db74">&#39;Toys und Gadgets&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">111</span>,<span style="color:#e6db74">&#39;foto&#39;</span>,<span style="color:#e6db74">&#39;Toys und Gadgets&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">112</span>,<span style="color:#e6db74">&#39;heinrich&#39;</span>,<span style="color:#e6db74">&#39;Kleidung&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">113</span>,<span style="color:#e6db74">&#39;hem&#39;</span>,<span style="color:#e6db74">&#39;Sprit&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">114</span>,<span style="color:#e6db74">&#39;hotel&#39;</span>,<span style="color:#e6db74">&#39;Reisen&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">115</span>,<span style="color:#e6db74">&#39;jet-tank&#39;</span>,<span style="color:#e6db74">&#39;Sprit&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">116</span>,<span style="color:#e6db74">&#39;karstadt&#39;</span>,<span style="color:#e6db74">&#39;Einkauf&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">117</span>,<span style="color:#e6db74">&#39;kassen-&#39;</span>,<span style="color:#e6db74">&#39;Steuern und Strafen&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">118</span>,<span style="color:#e6db74">&#39;leichtsinn&#39;</span>,<span style="color:#e6db74">&#39;Toys und Gadgets&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">119</span>,<span style="color:#e6db74">&#39;media markt&#39;</span>,<span style="color:#e6db74">&#39;Toys und Gadgets&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">120</span>,<span style="color:#e6db74">&#39;mios&#39;</span>,<span style="color:#e6db74">&#39;Sprit&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">121</span>,<span style="color:#e6db74">&#39;plaza&#39;</span>,<span style="color:#e6db74">&#39;Einkauf&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">122</span>,<span style="color:#e6db74">&#39;rundfunkgebuehren&#39;</span>,<span style="color:#e6db74">&#39;Fernsehen&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">123</span>,<span style="color:#e6db74">&#39;saturn&#39;</span>,<span style="color:#e6db74">&#39;Toys und Gadgets&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">124</span>,<span style="color:#e6db74">&#39;sb tank&#39;</span>,<span style="color:#e6db74">&#39;Sprit&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">125</span>,<span style="color:#e6db74">&#39;segelkiste&#39;</span>,<span style="color:#e6db74">&#39;Kleidung&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">126</span>,<span style="color:#e6db74">&#39;total/&#39;</span>,<span style="color:#e6db74">&#39;Sprit&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">127</span>,<span style="color:#e6db74">&#39;trx&#39;</span>,<span style="color:#e6db74">&#39;Reisen&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">128</span>,<span style="color:#e6db74">&#39;tst. bensheim&#39;</span>,<span style="color:#e6db74">&#39;Sprit&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">129</span>,<span style="color:#e6db74">&#39;vobis&#39;</span>,<span style="color:#e6db74">&#39;Toys und Gadgets&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">130</span>,<span style="color:#e6db74">&#39;willenberg&#39;</span>,<span style="color:#e6db74">&#39;Toys und Gadgets&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">131</span>,<span style="color:#e6db74">&#39;shell&#39;</span>,<span style="color:#e6db74">&#39;Sprit&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">132</span>,<span style="color:#e6db74">&#39;spreadshirt&#39;</span>,<span style="color:#e6db74">&#39;Kleidung&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">133</span>,<span style="color:#e6db74">&#39;armin meier&#39;</span>,<span style="color:#e6db74">&#39;Kleidung&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">134</span>,<span style="color:#e6db74">&#39;itzehoer&#39;</span>,<span style="color:#e6db74">&#39;Versicherung&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">135</span>,<span style="color:#e6db74">&#39;ec-pos&#39;</span>,<span style="color:#e6db74">&#39;Geldautomat Ausland&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">136</span>,<span style="color:#e6db74">&#39;euf-ga&#39;</span>,<span style="color:#e6db74">&#39;Geldautomat Ausland&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">137</span>,<span style="color:#e6db74">&#39;dell&#39;</span>,<span style="color:#e6db74">&#39;Toys und Gadgets&#39;</span>);
<span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> <span style="color:#f92672">`</span>wichtige_geldsenken<span style="color:#f92672">`</span> <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">138</span>,<span style="color:#e6db74">&#39;yvonne&#39;</span>,<span style="color:#e6db74">&#39;RPG&#39;</span>);
UNLOCK TABLES;
</code></pre></div><p>Mit Hilfe dieser Mappingtabelle und der folgenden Query kann ich jetzt das
Feld gruppe in b sinnvoll belegen:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#66d9ef">update</span> b <span style="color:#66d9ef">set</span> gruppe <span style="color:#f92672">=</span> ( 
    <span style="color:#66d9ef">select</span> gruppe 
      <span style="color:#66d9ef">from</span> wichtige_geldsenken <span style="color:#66d9ef">as</span> w 
     <span style="color:#66d9ef">where</span> b.gegenkonto_name <span style="color:#66d9ef">like</span> concat(w.pattern, <span style="color:#e6db74">&#34;%&#34;</span>) 
  <span style="color:#66d9ef">order</span> <span style="color:#66d9ef">by</span> <span style="color:#66d9ef">length</span>(pattern) <span style="color:#66d9ef">desc</span> 
    <span style="color:#66d9ef">limit</span> <span style="color:#ae81ff">1</span>) <span style="color:#66d9ef">where</span> b.betrag <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>;
</code></pre></div><p>Wenn meine pattern-Liste vollständig ist, ist jetzt das Feld gruppe bei
allen Ausgaben korrekt belegt.</p>
<p>Ich kann nun Fragen stellen:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#66d9ef">select</span> gegenkonto_name, 
         <span style="color:#66d9ef">count</span>(gegenkonto_name) <span style="color:#66d9ef">as</span> eingaenge 
    <span style="color:#66d9ef">from</span> b 
   <span style="color:#66d9ef">where</span> betrag<span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">0</span> 
<span style="color:#66d9ef">group</span> <span style="color:#66d9ef">by</span> gegenkonto_name 
<span style="color:#66d9ef">order</span> <span style="color:#66d9ef">by</span> eingaenge <span style="color:#66d9ef">desc</span>;
<span style="color:#f92672">+</span><span style="color:#75715e">--------------------------------------------------------+-----------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> gegenkonto_name                                        <span style="color:#f92672">|</span> eingaenge <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">--------------------------------------------------------+-----------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> WEB.DE AG AMALIENBADSTR. <span style="color:#ae81ff">41</span>                            <span style="color:#f92672">|</span>        <span style="color:#ae81ff">12</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">|</span> MYSQL GMBH                                             <span style="color:#f92672">|</span>         <span style="color:#ae81ff">7</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">|</span> MYSQL GMBH SCHLOSSERSTR. <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">72622</span> NUERTINGEN            <span style="color:#f92672">|</span>         <span style="color:#ae81ff">3</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">|</span> COOP SCHLESWIG<span style="color:#f92672">-</span>HOLSTEIN EG BENZSTR. <span style="color:#ae81ff">10</span>                 <span style="color:#f92672">|</span>         <span style="color:#ae81ff">2</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">--------------------------------------------------------+-----------+
</span></code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#66d9ef">select</span> gegenkonto_name, 
         <span style="color:#66d9ef">count</span>(gegenkonto_name) <span style="color:#66d9ef">as</span> abgaenge 
    <span style="color:#66d9ef">from</span> b 
   <span style="color:#66d9ef">where</span> betrag<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">0</span> 
<span style="color:#66d9ef">group</span> <span style="color:#66d9ef">by</span> gegenkonto_name 
<span style="color:#66d9ef">order</span> <span style="color:#66d9ef">by</span> abgaenge <span style="color:#66d9ef">desc</span>;
<span style="color:#f92672">+</span><span style="color:#75715e">---------------------------------------------------------+----------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> gegenkonto_name                                         <span style="color:#f92672">|</span> abgaenge <span style="color:#f92672">|</span>
<span style="color:#f92672">+</span><span style="color:#75715e">---------------------------------------------------------+----------+
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span> SCHECK <span style="color:#66d9ef">IN</span> CENTER KA DURLACH                             <span style="color:#f92672">|</span>       <span style="color:#ae81ff">36</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">|</span> MOBILCOM COMMUNICATIONSTECH                             <span style="color:#f92672">|</span>       <span style="color:#ae81ff">22</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">|</span> STRATO MEDIEN AG                                        <span style="color:#f92672">|</span>       <span style="color:#ae81ff">22</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">|</span> VERMIETER                                               <span style="color:#f92672">|</span>       <span style="color:#ae81ff">19</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">|</span> T<span style="color:#f92672">-</span>MOBILE DEUTSCHLAND GMBH                               <span style="color:#f92672">|</span>       <span style="color:#ae81ff">18</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">|</span> DEUTSCHE BAHN KARLSRUHE HB                              <span style="color:#f92672">|</span>       <span style="color:#ae81ff">17</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">|</span> KABEL BW GMBH <span style="color:#f92672">&amp;</span> CO. KG                                  <span style="color:#f92672">|</span>       <span style="color:#ae81ff">17</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">|</span> QSC AG                                                  <span style="color:#f92672">|</span>       <span style="color:#ae81ff">17</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">|</span> STADTWERKE KARLSRUHE                                    <span style="color:#f92672">|</span>       <span style="color:#ae81ff">17</span> <span style="color:#f92672">|</span>
...
</code></pre></div><p>Mit den Gruppen kann ich nun auch sehen, wo das Geld hin gegangen ist:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#66d9ef">select</span> gruppe, 
         <span style="color:#66d9ef">count</span>(betrag) <span style="color:#66d9ef">as</span> abgaenge, 
         <span style="color:#66d9ef">sum</span>(betrag) <span style="color:#66d9ef">as</span> total 
    <span style="color:#66d9ef">from</span> b 
   <span style="color:#66d9ef">where</span> betrag<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">0</span> 
<span style="color:#66d9ef">group</span> <span style="color:#66d9ef">by</span> gruppe 
<span style="color:#66d9ef">order</span> <span style="color:#66d9ef">by</span> total;
</code></pre></div><p>wird mir sagen, wofür ich mein Geld ausgebe.</p>


	
    </article>
</div>



            <footer>
    <p>
	&copy; Copyright 2021 Someone or something
    </p>
</footer>


        </main>

	





<script src="/js/bootstrap.js"></script>




<script src="/js/lunr.js"></script>





<script src="/js/app.js"></script>


    </body>
</html>
