<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<title>Die wunderbare Welt von Isotopp - PHP 7: mysql extension deprecated</title>
<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="manifest" href="site.webmanifest">
<link rel="apple-touch-icon" href="icon.png">
<link rel="favicon.ico" rel="icon" type="image/ico">





	



<link rel="stylesheet" href="/style.min.c5e5cd61f54911f9aafd1dbe09c2f90667957bfe1002126c87aace57759f3446.css">


    </head>
    <body>
        

        <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
	<a class="navbar-brand" href="" rel="home" title=".Site.Title">
	    Die wunderbare Welt von Isotopp
	</a>
	<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
	</button>

	<div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
		
		
		<li class="nav-item ">
                    <a class="nav-link" href="/about/">
			
			<span>About</span>
			<span class="visually-hidden">(Current)</span>
		    </a>
		    
		</li>
            </ul>
            
	</div>
    </div>
</nav>


        <main role="main" class="container-fluid">

            


<div class="page">
    <article class="php-7-mysql-extension-deprecated-page">
	<h1 class="title">
            PHP 7: mysql extension deprecated
	</h1>

	<p>In <a href="http://kuehnast.com/s9y/archives/650-mysql-nach-PHP-7-retten.html" target="_blank" rel="noopener">mysql() nach PHP 7
retten</a>

,
Charly KÃ¼hnast explains how you can get the deprecated and
disabled mysql extension back in PHP 7. You shouldn&rsquo;t. There are
many reasons for this.</p>
<p>One of them being that none of the newer features in MySQL can
be used with the old mysql extensions. There is an
<a href="http://php.net/manual/en/mysqlinfo.api.choosing.php" target="_blank" rel="noopener">overview</a>


in the PHP documentation that explains exactly what you are
missing.</p>
<p>One of the things that you are missing is support for prepared
statements. Prepared statements are a mechanism in which you
write SQL statements with placeholders for variables, and then
later bind values to the placeholders using a &ldquo;bind&rdquo; call or as
part of the &ldquo;execute&rdquo; call which is actually running the
statement.</p>
<p>In any case, the variables are being escaped properly
automatically, making SQL injection a lot harder. This is not
just a problem limited to PHP - a search for bind and execute
other sources can be very instructive. For example, the sources
of Opennebula or in older versions of Owncloud (up to and
including version 7) are rich treasure troves of potential
exploits.</p>
<p>So currently the situation is as follows:</p>
<p><p class="md__image">
  <img src="/uploads/2017/01/mysql_protokolle-1.png" alt=""  />
</p>

</p>
<p>There are three extensions at the PHP level, one of which is deprecated and
disabled in PHP 7:</p>
<ul>
<li>The old mysql extension is no longer available by default, and
for good reasons. Do not use it, do not attempt to use code
that uses it.</li>
<li>The mysqli extension has been around for very many years, and
offers a procedural and an object oriented interface, and
makes &ldquo;newer&rdquo; MySQL features available, including prepared
statements.</li>
<li>The PDO_mysql extension has been around for many years, too,
and offers an object oriented, and portable across databases
interface. It also allows access to all &ldquo;newer&rdquo; MySQL
features.</li>
</ul>
<p>The wire protocol of all of these extensions is implemented by a
C-level library, against which the extension can be linked. A
<a href="http://php.net/manual/en/mysqlinfo.library.choosing.php" target="_blank" rel="noopener">manual page</a>


explains the choices.</p>
<ul>
<li>Traditionally that has been the Oracle/MySQL C-API
(&ldquo;libmysqlclient&rdquo;, &ldquo;Connector/C&rdquo;), which comes with the
database server. It is available on the GPL, which is a
license different from the PHP license of the rest of the PHP
proper, and it has it&rsquo;s own memory management, which is
different from the PHP native memory management.</li>
<li>Since PHP 5.3, there is mysqlnd (the &ldquo;native driver&rdquo;, ND). It
re-implements the MySQL wire protocol, and is available under
the same license as PHP itself. It also uses the same memory
management that PHP uses, which makes it faster (no copying)
and more efficient (no duplication of values). It is the
default on a normal PHP build these days.</li>
</ul>
<h2 id="what-you-should-be-using">
    <a href="#what-you-should-be-using">
	What you should be using:
    </a>
</h2>
<p>These days, your code should not be using the mysql extension.
So you will be using mysqli or PDO_mysql, depending on your
needs, with the underlying implementation of the native driver
doing the heavy lifting.</p>
<p>Do not attempt to port mysql-Extension based code to PHP 7
without refactoring it for prepared statements, please.</p>


	
    </article>
</div>



            <footer>
    <p>
	&copy; Copyright 2021 Someone or something
    </p>
</footer>


        </main>

	





<script src="/js/bootstrap.js"></script>




<script src="/js/lunr.js"></script>





<script src="/js/app.js"></script>


    </body>
</html>
