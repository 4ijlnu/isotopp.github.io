<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<title>Die wunderbare Welt von Isotopp - So you want to write a Shell script</title>
<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="manifest" href="site.webmanifest">
<link rel="apple-touch-icon" href="icon.png">
<link rel="favicon.ico" rel="icon" type="image/ico">





	



<link rel="stylesheet" href="/style.min.c5e5cd61f54911f9aafd1dbe09c2f90667957bfe1002126c87aace57759f3446.css">


    </head>
    <body>
        

        <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
	<a class="navbar-brand" href="" rel="home" title=".Site.Title">
	    Die wunderbare Welt von Isotopp
	</a>
	<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
	</button>

	<div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
		
		
		<li class="nav-item ">
                    <a class="nav-link" href="/about/">
			
			<span>About</span>
			<span class="visually-hidden">(Current)</span>
		    </a>
		    
		</li>
            </ul>
            
	</div>
    </div>
</nav>


        <main role="main" class="container-fluid">

            


<div class="page">
    <article class="so-you-want-to-write-a-shell-script-page">
	<h1 class="title">
            So you want to write a Shell script
	</h1>

	<p>So some people, companies even, have
<a href="https://google.github.io/styleguide/shell.xml" target="_blank" rel="noopener">guidelines that describe how to write shell scripts</a>

, or even
<a href="https://code.google.com/archive/p/shunit2/wikis/GeneralFaq.wiki" target="_blank" rel="noopener">unit tests for shell scripts</a>

,
as if &ldquo;UNIX Shell&rdquo; was a programming language.</p>
<p>That&rsquo;s wrong.</p>
<p>&ldquo;Modern Shells&rdquo; are based on a language that has been written
without a formal language specification. The source looked like
<a href="https://github.com/eunuchs/unix-archive/blob/master/PDP-11/Trees/2.11BSD/usr/src/bin/sh/main.c" target="_blank" rel="noopener">this</a>

,
because somebody didn&rsquo;t like C and wanted Algol,
<a href="https://github.com/eunuchs/unix-archive/blob/master/PDP-11/Trees/2.11BSD/usr/src/bin/sh/mac.h" target="_blank" rel="noopener">abusing the preprocessor</a>

.
The original functionality and language rules had to be reverse
engineered from that source, and
<a href="https://www.in-ulm.de/~mascheck/bourne/common.html" target="_blank" rel="noopener">original shell has a lot of weird rules and quirks</a>

:</p>
<blockquote>
<p>You can use the caret, &lsquo;^&rsquo;, as replacement for the pipe
symbol, &lsquo;|&rsquo;.</p>
</blockquote>
<p>Check out the section</p>
<blockquote>
<p>Consider a variable which has been picked up by the shell from
the environment at startup. Modifying this variable creates a
local copy.</p>
</blockquote>
<p>in that document, especially the part where they explain this:</p>
<blockquote>
<p>If you call a script directly from a bourne shell (&quot;./script&quot;
without shebang), then the shell only forks off a subshell and
reads in the script.</p>
<p>The split between original and local copy of the variable is
still present in the subshell. But if the script is a real
executable with #! magic, or if another sh is called, then
fork and exec is used and only the original unmodified
variable will be visible.</p>
</blockquote>
<p>And it gets better if you go down the entirety of that particular document.
If you think Unix Shell is a survivable programming environment, good luck,
and please take your code with you while you leave.</p>


	
    </article>
</div>



            <footer>
    <p>
	&copy; Copyright 2021 Someone or something
    </p>
</footer>


        </main>

	





<script src="/js/bootstrap.js"></script>




<script src="/js/lunr.js"></script>





<script src="/js/app.js"></script>


    </body>
</html>
